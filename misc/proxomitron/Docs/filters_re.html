<html>

<head>
<meta http-equiv="Content-Language" content="ru">
<title>Описание фильтров</title>
<style type="text/css">
<!--
body {font-family: Verdana; font-size: 13; background-color: #F0F0D8; color: #000000; margin: 15;}
.r {color: #FF0000;}
.g {color: #CC0000;}
.ex {color: #336699; text-align: left}
h3 {font-size: 16; margin-top: 24; margin-bottom: 10;}
h4 {font-size: 15; margin-top: 22; margin-bottom: 9;}
h5 {font-size: 14; margin-top: 20; margin-bottom: 8;}

-->
</style>
</head>

<body>
<div>
<p>
Proxomitron RE поставляется с большим набором фильтров, включая или отключая которые можно гибко управлять процессом фильтрации. Безусловно, вы можете модифицировать эти фильтры для своих нужд или создавать новые. Мы рекомендуем вместо внесения изменений в стандартный фильтр скопировать его под новым именем и изменять копию, а исходный отключить. Это поможет избежать путаницы и исключит потерю ваших изменений при обновлении программы.
<p>
Все фильтры условно разделены на категории, соответствующие назначению фильтра; категории заполнены сверху вниз (т.е. фильтр, подходящий для нескольких категорий, по возможности размещается в самой верхней из подходящих). <span class=r>Ярким</span> цветом выделены наиболее полезные и универсальные фильтры, включенные по-умолчанию. После описания может приводиться <span class=ex>пример</span> того фрагмента, который данный фильтр корректно обрабатывает. Результат работы легко увидеть, добавив фильтр в Proxomitron и скопировав пример в тестовое окно фильтра.



<hr size=2>

<a name="header"><h3>Фильтры HTTP-заголовков</h3></a>
<hr size=1>


<h5 class=r>Accept-Charset: Request Win1251 charset (out) [ALX]</h5>

Запрос кириллической кодировки "Windows 1251", если браузер не запрашивает ее сам.


<h5 class=r>Accept-encoding: Allow webpage encoding (out) [ALX]</h5>

Также как и исходный фильтр <b>Accept-encoding: Allow webpage encoding (out)</b>, добавляет строку "gzip, deflate" к запросу браузера. Это позволяет, в частности, принимать запакованные в gzip страницы (Proxomitron может их обрабатывать, даже если браузер не поддерживает эту технологию).

<h5 class=r>Content-Encoding: Enable filtration fix (in) {site} [ALX]</h5>

Для безопасности данных Проксомитрон не фильтрует данные, для которых указано неизвестное значение Content-Encoding (обычно это "gzip" "deflate" или пустое "", что также означает deflate). Сервер может выдавать неверную кодировку для обычного типа данных, и тогда содержимое страниц не будет обрабатываться фильтрами. Для таких сайтов фильтр удаляет значеине данного заголовка, позволяя Проксомитрону фильтровать страницы.


<h5 class=g>Content-Encoding: Fix bad Prox-off types (In) [ALX]</h5>

Альтернатива предыдущему фильтру для фильтрации всех сайтов: если значение Content-Encoding не совпадает с одним из заданных, то оно заменяется на пустое, что позволяет обработать страницы с такого сайта. Однако, значение может оказаться верным и использоваться по назначению, а его замена повлечет за собой ошибочную фильтрацию закодированных данных.


<h5 class=g>Content-Length: Kill images by filesize (in) [ALX]</h5>

Позволяет отключить загрузку изображений, размер которых превышает заданное число байт. Вместо них будет отображаться файл killed.gif (из каталога <i>html</i>).


<h5 class=g>Content-Type: Set html (in) [ALX]</h5>

Иногда веб-сервер выдает для страницы такой тип содержимого, что браузер отказывается его просматривать без соответствующих надстроек. Если известно, что запрашиваемый файл является текстовым, можно временно включить этот фильтр и просмотреть файл. Более тонким инструментом является фильтр <b>"Content-Type: Fix MIME types (In)"</b>.

<h5 class=g>Content-Type: Set UTF-8 charset {sites} (in) [ALX]</h5>

Для <a href="http://www.google.com">некоторых</a> сайтов устанивливает входящую кодировку "UTF-8" (Unicode), если сервер не выставил другую кодировку. Это помогает браузеру корректно отобразить страницу, если она действительно передавалась в кодировке utf-8 (или отобразить некорректно, если сервер использовал другую кодировку).

<h5 class=r>User-Agent: Hide OS (out) [ALX]</h5>

Фильтр убирает все упоминания об операционной системе Windows, включаемые в строку заголовка "User-Agent:". При этом остальная информация (тип и версия браузера) не меняется.


<hr size=2>

<a name="content"><h3>Фильтры содержимого WEB-страниц</h3></a>
<hr size=1>


<h4>SITE SPECIFIC</h4>
Фильтры для работы с конкретным сайтом, в силу своей специфики не обрабатываемым общими фильтрами.<br>
<hr size=1>

<h5 class=r>Ru.Board forum topic list fixer {site} [ALX]</h5>
<p>
В списке тем форума <a href="http://forum.ru-board.com/">Ru.Board</a> Добавляет ссылку на последний пост слева от каждой темы форума (на изображения цветных стрелок).


<hr size=1>
<h4>AD BLOCKING</h4>
Фильтры рекламного содержимого web-страниц, по большей части - разного рода баннеров.<br>
<hr size=1>

<h5 class=g>Antiadbuster Buster [USR]</h5>

Фильтр, позволяющий эффективно обходить систему &quot;AntiAdbuster&quot, которая препятствует загрузке страниц при включенных программах-баннерорезалках (AdBuster, AdSubstract, AdMuncher и т.д.) и файерволов с функцией резки рекламы.<br> После включения фильтра защищенные страницы можно фильтровать как любые другие.<br>
<span class=r>Примечание:</span> Фильтр всегда должен находиться в самом верху списка фильтров.


<h5 class=r>Banner Blaster (limit text) [RT]</h5>

Косметическое изменение фильтра <b>"Banner Blaster (limit text)"</b>: добавлены размеры баннеров, характерные для рунета, а также в префикс, определяющий внешние ссылки, кроме "http" добавлен протокол "https".

<br><i>Пример:</i><code title="Matching Example" class=ex>
<br>&lt;a href="http://www.promosite.com"&gt;
<br>&lt;img src="http://click.com/getimg.php?for=promosite"&gt;&lt;/a&gt;
</code>


<h5 class=r>Simple Banner Blaster [ALX]</h5>

Простой, но эффективный механизм борьбы с рекламой: вырезаются все изображения, имеющие характерный для баннеров размер <b>и</b> имеющие абсолютные адреса (обычно расположенные за пределами текущего домена).

<br><i>Пример:</i><code title="Matching Example" class=ex>
<br>&lt;img height=60 src="http://roolez.ru/cool.gif" width='468'&gt;
</code>


<h5 class=r>Flash banner blaster [ALX]</h5>

Фильтрация flash-анимации по ключевым словам в пути к файлу. Аналогичен фильтрам <b>Banner Blaster</b>, но не использует для проверки размеры фильтруемого модуля и предназначен не для изображений, а для внедренных объектов.

<br><i>Пример:</i><code title="Matching Example" class=ex>
<br>&lt;object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=5,0,0,0"&gt;
<br>&lt;param NAME=movie VALUE="/adbanner.swf"&gt;
<br>&lt;embed src="/adbanner.swf" TYPE="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/shockwave/download/index.cgi?P1_Prod_Version=ShockwaveFlash"&gt;&lt;/embed&gt;
<br>&lt;/object&gt;
</code>


<h5 class=g>Flash banners killer [YDY]</h5>

Фильтр вырезает флеш-анимацию, но только ту, в адресе которой присутствуют ключевые слова из списка AdKeys.


<h5 class=r>Counter Killer [ALX]</h5>

Вариант стандартного Фильтра счетчиков посещений, дополненный рунетовскими сайтами счетчиков.

<br><i>Пример:</i><code title="Matching Example" class=ex>
<br>&lt;a href="http://top.mail.ru/jump?from=666"&gt;
<br>&lt;img src="http://top.list.ru/counter?js=na;id=666;t=0" border=0 height=31 width=88 alt="Рейтинг@Mail.ru"&gt;&lt;/a&gt;
</code>


<h5 class=r>Kill off-site Resources {sites} [ALX]</h5>

Для сайтов, определенных в файле-списке <i>"OffsiteList"</i> (по-умолчанию это файл <nobr>"Lists\OffsiteRes.txt"</nobr>), отключается вставка любого содержимого, расположенного за пределами текущего домена (главным образом изображений). Если графика на сайте не нужна вообще (а не только внешняя), можно использовать фильтр <b>"Kill all Images on selected pages"</b> (также использующий свой файл-список для настройки).

<br><i>Пример:</i><code title="Matching Example" class=ex>
<br>document.write('&lt;iframe src="http://ad.adriver.ru/cgi-bin/erle.cgi'+ '" scrolling=no&gt;'
+ '&lt;img src="http://ad.adriver.ru/cgi-bin/rle.cgi?' + ...
</code>


<h5 class=g>Porta.RU buster [ALX]</h5>

Вырезает некоторые варианты всеми любимой таблички конторы "porta.ru".



<hr size=1>
<h4>COSMETIC</h4>
Фильтры, изменяющие внешний вид web-страниц (предположительно в лучшую сторону).<br>
<hr size=1>


<h5 class=r>Blink Buster 2 (ALX)</h5>

Дополнение стандартного фильтра <b>Blink Buster</b>; удаляет настройки мигания из CSS-стилей.



<h5 class=r>Wordwrap all form textboxes [ALX]</h5>

Вариант стандартного фильтра <b>Wordwrap all form textboxes</b>, корректно обрабатывающий существующие настройки переноса в многострочном поле ввода текста.

<br><i>Пример:</i><code title="Matching Example" class=ex>
<br>&lt;textarea cols=40 rows=4&gt;
<br>&lt;textarea wrap=none cols=70&gt;
<br>&lt;textarea rows=4 wrap=virtual&gt;
</code>


<h5 class=g>Enlarge textareas [ALX]</h5>

Делает многострочное поле ввода текста боле широким, если оно предположительно должно быть таким. Включать фильтр имеет смысл при использовании горизонтального разрешения монитора 1024 точки и выше.

<br><i>Пример:</i><code title="Matching Example" class=ex>
<br>&lt;textarea cols=40 rows=4&gt;
<br>&lt;textarea wrap=none cols=80&gt;
</code>


<h5 class=g>Insert User CSS {sites} [YDY]</h5>

Позволяет пользователю изменить вид целой страницы в соответствии со своими предпочтениями. Для этого в страницу вставляется ссылка на CSS, расположенный в Html\UserCSS.css. Страницы для обработки берутся из списка UserCSS (по-умолчанию <nobr>"Lists/Insert User CSS.txt"</nobr>).


<h5 class=r>Alt2title {Mozilla} [ALX]</h5>

По стандарту HTML параметр "alt" тега IMG используется для выведения текста при невозможности просмотреть изображение (если оно не загрузилось или в режиме голосового серфинга), а для всплывающего комментария для всех тегов используется параметр "title". Однако большинство браузеров традиционно использует для отображения подсказок "alt" и веб-дизайнеры редко думают о том, чтобы следовать стандарту. Браузер Mozilla (и все остальные на его движке) полностью соответствует стандартам и не использует "alt" вообще после загрузки картинки. Чтобы это недоразумение устранить, данный фильтр копирует содержимое поля "alt" в поле "title", если таковое еще не заполнено.

<br><i>Пример:</i><code title="Matching Example" class=ex>
<br>&lt;img alt="Cool" src="cool.gif"&gt;
<br>&lt;image src="cool.gif" alt="Cool"&gt;
<br>&lt;img alt=cool title='' src="cool.gif" alt="Cool"&gt;
<br>&lt;img src="cool.gif" title="Title" alt=cool&gt;
</code>


<h5 class=r>Comic MS font replacer {cosmetic} [YDY]</h5>

Чисто косметический фильтр, заменяющий корявый шрифт Comic MS на Verdana. Заменяет ссылки на шрифт как в тегах &lt;FONT&gt;, так и в CSS (только встроенных в страницу). При желании, комбинацию шрифтов можно задать свою.


<h5 class=g>Mark some words - [RT]</h5>

Пригодится при просмотре большого количества страниц в поисках определенной информации. Фильтр выделяет слова и фразы, заданные в нем (для реального использования рекомендуется создать список этих слов в блок-файле).



<hr size=1>
<h4>PAGE CLEANUP</h4>
Фильтры очистки web-страниц от ненужного содержимого, не попадающего в другие категории.<br>
<hr size=1>


<h5 class=r>WebBugs (replace small images) [USR] [ALX]</h5>

Вместо небольших по размерам изображений (4x4 точки и менее) подставляет локальный прозрачный гиф, избегая ожидания загрузки лишних картинок.

<br><i>Пример:</i><code title="Matching Example" class=ex>
<br>&lt;img src="empty.gif" height=2 width="1"&gt;
</code>


<h5 class=r>Unprefix URLs {^sites} [ALX]</h5>

Измененный вариант фильтра <b>"Un-Prefix URLs"</b>. Фильтр подставляет прямые ссылки на ресурсы за пределами текущего домена вместо косвенных, обычно содержащих рекламу или счетчики и задерживающих загрузку. Использует собственный блок-файл для определения сайтов, на которых не требуется убирать префиксы.

<br><i>Пример:</i><code title="Matching Example" class=ex>
<br>&lt;a href="ref.htm?http://www.site.com"&gt;
<br>&lt;a href="/ref.htm?http://www.site.com/subdir/"&gt;
<br>&lt;a href="http://www.lycos.com/ref.htm?http://www.site.com"&gt;
<br>&lt;a href="/r/ref.htm?http://www.site.com&amp;redir=ref"&gt;
<br>&lt;a href="ref.htm?redir=ref&amp;site=http://www.site.com"&gt;
<br>&lt;a href="ref.htm?redir=ref&amp;site=ftp://site.com&amp;redir=ref"&gt;
<br>&lt;a href='http://foo.com/cgi-bin/track?https://real.url.com/file.htm'&gt;
</code>


<h5 class=r>Sounds to links [ALX]</h5>

Изменение стандартного фильтра <b>"Sounds to links"</b> для более корректной обработки внедренных объектов (в частности, для предотвращения вырезания FLASH-анимации).

<br><i>Пример:</i><code title="Matching Example" class=ex>
<br>&lt;BGSOUND SRC="march.mid" LOOP=INFINITE&gt;
<br>&lt;EMBED SRC="/snd/canyon.wav" AUTOSTART="TRUE" CONTROLS="SMALLCONSOLE" LOOP="FALSE" WIDTH="50" HEIGHT="15"&gt;
</code>


<h5 class=g>Kill All Backgrounds (even tables) {sites} [ALX]</h5>

Модификация фильтра <b>Kill All Backgrounds (even tables)</b>. Убирает все фоновые рисунки только с сайтов, перечисленных в списке.


<h5 class=g>Dark background replacer {sites} [ALX]</h5>

Для заданных сайтов отключает цвета фона страниц и таблиц, определяемые фильтром как темные, делая эту заливку прозрачной. Если на таком фоне был светлый текст, скорее всего его станет хуже видно.

<br><i>Пример:</i><code title="Matching Example" class=ex>
<br>&lt;table CELLSPACING=0 CELLPADDING=5 BORDER=1 BGCOLOR=#119944 WIDTH=600&gt;
</code>


<h5 class=r>Content-type filter [ALX]</h5>

Дополнение стандартного фильтра <b>"Foreign content-type filter"</b> для корректной работы с Unicode-кодировками. (Сам фильтр вырезает настройки кодировки внутри веб-страницы, т.к. их изменяет сервер в зависимости от HTTP-запроса браузера и переназначение их в HTML-документе приводит только к проблемам при просмотре.)

<br><i>Пример:</i><code title="Matching Example" class=ex>
<br>&lt;meta http-equiv="Content-Type" content="text/html; charset=windows-1251"&gt;
</code>



<hr size=1>
<h4>PAGE ACTIVITY</h4>
Фильтры, регулирующие излишнюю активность web-страниц, такую как открытие новых окон, изменение нормального вида и поведения браузера и т.п.<br>
<hr size=1>

<h5 class=g>Stop MARQUEE scrollers [ALX]</h5>

Останавливает перемещение содержимого страницы, реализованное тегом &lt;MARQUEE&gt;.


<h5 class=r>Kill new window anchors [ALX]</h5>

Изменяет свойства ссылок так, чтобы они всегда открывались в текущем окне (для открытия ссылки в новом окне всегда можно воспользоваться функциями браузера). Может некорректно работать при включенном фильтре <b>"Frame Jumper-Outer"</b>.


<br><i>Пример:</i><code title="Matching Example" class=ex>
<br>&lt;a target=_blank href="http://linx.com"&gt;
<br>&lt;a target='_new' href="http://linx.com" target="_new"&gt;
</code>


<h5 class=g>Kill new window anchors {DHTML} [ALX]</h5>

Изменяет свойства ссылок так, чтобы они всегда открывались в текущем окне, используя технологию DHTML. Иногда работает лучше, чем обычный фильтр <b>Kill new window anchors [ALX]</b>, но только в DOM-совместимых браузерах (Mozilla, IE5+ etc).


<h5 class=r>Deny links to change statusbar [ALX]</h5>

Более корректный вариант фильтра <b>Link De-Obfuscator</b>, предназначенного для удаления свойств HTML-объектов, произвольно изменяющих статусную строку браузера.

<br><i>Пример:</i><code title="Matching Example" class=ex>
<br>&lt;a onmouseover="status='http://Fake.Link/'; return true;" href="http://Real.Link/" onmouseout="status=''; return true;"&gt;
<br>&lt;a onmouseover="status='http://Fake.Link/'; " href="http://Real.Link/" onmouseout="status=''; "&gt;
<br>&lt;a onmouseover="return SS('http://hindu.com');" onfocus="return(1);" onmouseout="return true;" href="http://click.lycos.com/"&gt;
</code>


<h5 class=g>De-Obfuscator [ALX]</h5>

Также вариант фильтра <b>Link De-Obfuscator</b>, запрещающий изменение статусной строки браузера не только в ссылках, но и в любых других объектах. При этом, так же как и в оригинальном фильтре, обрабатываемые события перемещения мыши вырезаются полностью, а не только фрагмент изменения статусной строки. При включенном фильтре <b>Deny links to change statusbar [ALX]</b> данный имеет весьма ограниченную применимость.

<br><i>Пример:</i><code title="Matching Example" class=ex>
<br>&lt;img onmouseover="status='Image';" src="img.gif" onmouseout="status='';"&gt;
</code>


<h5 class=r>Reset page events [RT]</h5>

Отключает программные обработчики таких событий, как клик мыши, копирование в буфер и т.п., задаваемые для всего документа (обычно их используют, заменяя стандартные обработчики JavaScript, чтобы запретить эти действия).


<h5 class=r>Remove page events from tags [ALX]</h5>

Дополнение предыдущего фильтра для отключения обработчиков отдельных элементов документа.

<br><i>Пример:</i><code title="Matching Example" class=ex>
<br>
&lt;body oncopy="return false" BOTTOMMARGIN="0" oncopy="return false" MARGINWIDTH="0"  oncontextmenu="return false" onselectstart="return false" oncopy="return false"&gt;
</code>

<h5 class=r>Speedup Auto-Refreshers [ALX]</h5>

Ускоряет автоматическое обновление страницы, задаваемое тегом &lt;META http-equiv=refresh ..&gt;, если время обновления попадает в заданный диапазон. Полезно, например, для веб-форумов, на которых после отправки нового сообщения перед просмотром оного несколько секунд отображается информация о том, что сообщение отправлено.


<hr size=1>
<h4>JAVASCRIPT</h4>
Фильтры для сценариев JavaScript, не попавшие в другие категории.<br>
<hr size=1>



<hr size=1>
<h4>FRAMES&TABLES</h4>
Фильтры для настройки фреймов и таблиц.<br>
<hr size=1>


<h5 class=r>Kill top of page frame {sites} [YDY]<br>
Kill bottom of page frame {sites} [YDY]</h5>

Пара фильтров, уничтожающая фреймы (рекламные), находящиеся вверху и внизу страницы соответственно. Работает со списками <i>FrameTop</i> и <i>FrameBottom</i> (<nobr>"Lists\Kill Frames Top.txt"</nobr> и <nobr>"Lists\Kill Frames Bottom.txt"</nobr>).


<h5 class=g>Allow for frame resizing {IE} [YDY]</h5>

От стандартного отличается тем, что не отображает границы фреймов, но все равно позволяет изменять их размеры.


<h5 class=g>Table width unlimiter [ALX]</h5>

Отключает жесткие настройки ширины крупных таблиц, что позволяет им подстраивать размер под свое содержимое. Чуть подправленный стандартный фильтр.


<hr size=1>
<h4>FLASH&JAVA</h4>
Фильтры для настройки flash-анимации и JAVA-апплетов.<br>
<hr size=1>


<h5 class=g>Flash animation killer [RT]</h5>

Вариант стандартного фильтра <b>Flash animation killer</b>; предназначен для активирования только на определенных сайтах. Делает то же, что и исходный фильтр: заменяет flash-анимацию ссылкой на нее.

<br><i>Пример:</i><code title="Matching Example" class=ex>
<br>&lt;object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"&gt;
<br>&lt;param NAME=movie VALUE="/flash.swf"&gt;
<br>&lt;embed src="/flash.swf" TYPE="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/shockwave/download/index.cgi?P1_Prod_Version=ShockwaveFlash"&gt;
<br>&lt;/embed&gt;&lt;/object&gt;
</code>


<h5 class=r>Flash Menu Enabler [ALX]</h5>

Вырезает настройки внедренного FLASH-объекта, отключающие возможность его управления (правым кликом).

<br><i>Пример:</i><code title="Matching Example" class=ex>
<br>&lt;object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"&gt;
<br>&lt;param name="menu" value="false"&gt;
<br>&lt;embed src="flash.swf" quality=high type="application/x-shockwave-flash" menu="false"&gt;&lt;/embed&gt;
<br>&lt;/object&gt;
</code>








<p>
<hr size=2>
<div align=right>
<br>[RT] &copy; Russian Edition Team
<br>[ALX] &copy; chAlx
<br>[YDY] &copy; Dmitry "Storm" Yudin
<br>[EAH] &copy; Evgeniy AKA Homeric
<br>[LWC] &copy; LWC
<br>[USR] &copy; Unknown User
<br>
</div>

</body>
</html>